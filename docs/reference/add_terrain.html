<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add terrain — add_terrain • mapdeck</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Add terrain — add_terrain" />
<meta property="og:description" content="Adds mesh surfaces from height map images" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mapdeck</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mapdeck.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/benchmarks.html">Benchmarks</a>
    </li>
    <li>
      <a href="../articles/colours.html">Colours</a>
    </li>
    <li>
      <a href="../articles/google_map.html">Google Map</a>
    </li>
    <li>
      <a href="../articles/issues.html">Why isn't it working?</a>
    </li>
    <li>
      <a href="../articles/layers.html">Layers</a>
    </li>
    <li>
      <a href="../articles/legends.html">Legends</a>
    </li>
    <li>
      <a href="../articles/tips_tricks.html">Tips &amp; Tricks</a>
    </li>
    <li>
      <a href="../articles/trips.html">Trips</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/SymbolixAU/mapdeck/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add terrain</h1>
    <small class="dont-index">Source: <a href='https://github.com/SymbolixAU/mapdeck/blob/master/R/map_layer_terrain.R'><code>R/map_layer_terrain.R</code></a></small>
    <div class="hidden name"><code>add_terrain.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Adds mesh surfaces from height map images</p>
    </div>

    <pre class="usage"><span class='fu'>add_terrain</span>(
  <span class='no'>map</span>,
  <span class='kw'>layer_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>elevation_data</span>,
  <span class='kw'>texture</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>elevation_decoder</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>),
  <span class='kw'>bounds</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>max_error</span> <span class='kw'>=</span> <span class='fl'>4</span>,
  <span class='kw'>update_view</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>focus_layer</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>map</th>
      <td><p>a mapdeck map object</p></td>
    </tr>
    <tr>
      <th>layer_id</th>
      <td><p>single value specifying an id for the layer. Use this value to
distinguish between shape layers of the same type. Layers with the same id are likely
to conflict and not plot correctly</p></td>
    </tr>
    <tr>
      <th>elevation_data</th>
      <td><p>Image URL that encodes height data. When <code>elevation_data</code>
is a URL template, i.e. a string containing 'x' and 'y', it loads terrain tiles on demand
and renders a mesh for each tile. If <code>elevation_data</code> is an absolute URL, as ingle mesh is used,
and the <code>bounds</code> argument is required to position it into the world space.</p></td>
    </tr>
    <tr>
      <th>texture</th>
      <td><p>Image URL to use as the texture</p></td>
    </tr>
    <tr>
      <th>elevation_decoder</th>
      <td><p>Four value used to convert a pixel to elevation in metres. The
values correspond to rScale, gScale, bScale, offset. See details</p></td>
    </tr>
    <tr>
      <th>bounds</th>
      <td><p>Four values (<code><a href='https://rdrr.io/r/base/c.html'> c(left, bottom, right, top) </a></code>. bounds of the
image to fit in x,y coordinates into. <code>left</code> and <code>right</code> referes to the world
longitude/x at the corresponding side of the image. <code>top</code> and <code>bottom</code> refers to
the world latitude/y at the corresponding side of the image. Must be supplied when using
non-tiled <code>elevation_data</code></p></td>
    </tr>
    <tr>
      <th>max_error</th>
      <td><p>Martini error tolerance in metres, smaller number results in more detailed mesh.</p></td>
    </tr>
    <tr>
      <th>update_view</th>
      <td><p>logical indicating if the map should update the bounds to include this layer</p></td>
    </tr>
    <tr>
      <th>focus_layer</th>
      <td><p>logical indicating if the map should update the bounds to only include this layer</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>elevation_decoder</code> contains four values representing</p><ul>
<li><p>rScale - Multiplier of the red channel</p></li>
<li><p>gScale - Multiplier of the green channel</p></li>
<li><p>bScale - Multiplier of the blue channel</p></li>
<li><p>offset - translation of the sum</p></li>
</ul>

<p>Each colour channel is a number between [0, 255].</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>

<span class='fu'><a href='set_token.html'>set_token</a></span>( <span class='st'>"MAPBOX_TOKEN"</span> )
<span class='co'>## Digital elevation model from https://www.usgs.gov/</span>
<span class='no'>elevation</span> <span class='kw'>&lt;-</span> <span class='st'>'https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/terrain.png'</span>
<span class='no'>texture</span> <span class='kw'>&lt;-</span> <span class='st'>'https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/terrain-mask.png'</span>
<span class='no'>bounds</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>122.5233</span>, <span class='fl'>37.6493</span>, -<span class='fl'>122.3566</span>, <span class='fl'>37.8159</span>)

<span class='fu'><a href='mapdeck.html'>mapdeck</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>add_terrain</span>(
    , <span class='kw'>elevation_data</span> <span class='kw'>=</span> <span class='no'>elevation</span>
    , <span class='kw'>elevation_decoder</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>)
    , <span class='kw'>texture</span> <span class='kw'>=</span> <span class='no'>texture</span>
    , <span class='kw'>bounds</span> <span class='kw'>=</span> <span class='no'>bounds</span>
    , <span class='kw'>max_error</span> <span class='kw'>=</span> <span class='fl'>1</span>
  )</div><div class='output co'>#&gt; <span class='message'>terrain is an experimental layer and the function may change without warning</span></div><div class='input'>
# }

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Cooley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


